<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/novaFicha.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Ficha</title>
</head>

<body>
    <header>
        <div class="logo">
            <a href="">
                <img src="assets/logoBranca.png" alt="Logo do Till the Fangz na versão branca">
            </a>
        </div>
        <div class="itens">
            <a href="../index.html">Home</a>
            <a href="livro.html">Livro</a>
            <a href="bestiario.html">Bestiário</a>
            <a href="quiz.html">Quiz</a>
            <a href="ficha.html">Ficha</a>
            <a href="login.html" class="login"><img src="assets/vampireUser.png" alt="user"> Login</a>
        </div>
    </header>

    <div class="conteudo" id="div_conteudo">
        <div class="inicial">
            <h2>Nenhum personagem encontrado!</h2>
            <button onclick="inicio()">Criar Personagem</button>
        </div>

    </div>
    <script>
        let classes = {};
        function inicio() {
            div_conteudo.innerHTML = `
                <div class="navbar">
                    <ul>
                        <li><a onclick="inicio()">Inicio</a></li>
                        <li><a onclick="classe()">Classe</a></li>
                        <li><a onclick="atributos()">Atributos</a></li>
                        <li><a onclick="habilidades()">Habilidades</a></li>
                    <ul>
                </div>

                <h2>Seja bem vindo ao criador de personagem!
                <br> Vamos começar pelo básico</h2>

                <div id="campos" class="camposiniciais">
                    <div class="inicio">
                        <div class="coluna1">
                            <input rows="1" placeholder="Nome..." id="ipt_nome" class="campo">  
                            <input type="number" placeholder="Altura..." id="ipt_altura" class="campo" >
                            <input type="number" placeholder="Peso..." id="ipt_peso" class="campo">
                            <input type="number" placeholder="Pontos sombrios" class="campo">
                            <input type="number" placeholder="Defesa" id="ipt_defesa" class="campo">
                        </div>
                        <div class="coluna2">
                            <input type="text" placeholder="Apelido..." id="ipt_apelido" class="campo">
                            <select id="select_genero" class="campo" >
                                    <option value="#">Gênero:</option>
                                    <option value="feminino">Feminino</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="outro">Outro</option>
                                    <option value="nao">Prefiro não dizer</option>
                            </select>
                            <input type="number" placeholder="Idade..." id="ipt_idade" class="campo" >
                            <input type="number" placeholder="Pontos de luz" class="campo">
                            <input type="number" placeholder="Sanidade" id="ipt_sanidade" class="campo">
                        </div>
                    </div>
                     <div class="detalhes">
                        <textarea placeholder="História do personagem" id="ipt_historia" class="campo"></textarea>
                        <textarea placeholder="Características do personagem" id="" class="campo"></textarea>
                    </div>
                </div>
            `
        }

        function classe() {
            div_conteudo.innerHTML = `
                <div class="navbar">
                    <ul>
                        <li><a onclick="inicio()">Inicio</a></li>
                        <li><a onclick="classe()">Classe</a></li>
                        <li><a onclick="atributos()">Atributos</a></li>
                        <li><a onclick="habilidades()">Habilidades</a></li>
                    <ul>
                </div>
            <div class="cards">
                <div class="card">
                    <h3>Caçador Sombrio</h3>
                    <img src="assets/vampiroCacador.png">
                <button onclick="aparecer('cacador')">Ver especificações</button>
                <dialog id="cacador">
                    <div class="modal" >
                    
                    </div>
                </dialog>
                <br>
                <button>Escolher Este</button> 
                </div>

                <div class="card">
                    <h3>Senhor das Sombras</h3>
                    <img src="" alt="">
                <button onclick="aparecer('senhor')">Ver especificações</button>
                <dialog id="senhor">
                    <div class="modal" >
    
                    </div>
                </dialog>
                <br>
                <button>Escolher Este</button> 

                </div>

                <div class="card">
                    <h3>Bárabaro Noturno</h3>
                    <img src="" alt="">
                <button onclick="aparecer('barbaro')">Ver especificações</button>
                <dialog id="barbaro">
                    <div class="modal" >
                    
                    </div>
                </dialog>
                <br>
                <button>Escolher Este</button> 

                </div>
                <div class="card">
                <h3>Ilusionista Vampírico</h3>
                <img src="" alt="">

                <button onclick="aparecer('ilusionista')">Ver especificações</button>
                <dialog id="ilusionista">
                    <div class="modal" >
                    
                    </div>
                </dialog>
                <br>
                <button>Escolher Este</button> 
                </div>

                <div class="card">
                    <h3>Vampiro Cultista</h3>
                    <img src="" alt="">

                <button onclick="aparecer('cultista')">Ver especificações</button>
                <dialog id="cultista">
                    <div class="modal">
                    
                    </div>
                </dialog>
                <br>
                <button>Escolher Este</button> 
                </div>

                <div class="card">
                    <h3>Vampiro iluminado</h3>
                    <img src="" alt="">
                    <button onclick="aparecer('iluminado')">Ver especificações</button>
                    <dialog id="iluminado">
                        <div class="modal" >
                        
                        </div>
                    </dialog>
                    <br>
                    <button>Escolher Este</button> 
                </div>
                <div class="card">
                    <h3>Vampiro Flagelador</h3>
                    <img src="" alt="">
                    <button onclick="aparecer('flagelador')">Ver especificações</button>
                    <dialog id="flagelador">
                        <div class="modal" >
                        
                        </div>
                    </dialog>
                    <br>
                    <button>Escolher Este</button> 
                </div>
                <div class="card">
                    <h3>Vampiro Canibal</h3>
                    <img src="" alt="">
                    <button onclick="aparecer('canibal')">Ver especificações</button>
                    <dialog id="canibal">
                        <div class="modal">
                        
                        </div>
                    </dialog>
                    <br>
                    <button>Escolher Este</button> 
                </div>
            </div>    
            `

            classes = {
                cacador: document.getElementById('cacador'),
                barabaro: document.getElementById('barbaro'),
                ilusionista: document.getElementById('ilusionista'),
                senhor: document.getElementById('senhor'),
                cultista: document.getElementById('cultista'),
                iluminado: document.getElementById('iluminado'),
                flagelador: document.getElementById('flagelador'),
                canibal: document.getElementById('canibal')
            };
        }


        function aparecer(item) {
            classes[item].showModal()

        }
        function fechar(item) {
            classes[item].close()
        }
        let pontosAtributosTotais = 10;

// Objeto para armazenar os valores
let pontos = {
    carisma: 0,
    inteligencia: 0,
    agilidade: 0,
    vigor: 0,
    sangue: 0,
};

// Objeto para armazenar os elementos DOM que mostram os valores
let elementos = {};

function atributos() {
    div_conteudo.innerHTML = `
    <div class="navbar">
                    <ul>
                        <li><a onclick="inicio()">Inicio</a></li>
                        <li><a onclick="classe()">Classe</a></li>
                        <li><a onclick="atributos()">Atributos</a></li>
                        <li><a onclick="habilidades()">Habilidades</a></li>
                    <ul>
                </div>
        <h3>Pontos Totais</h3>
        <p id="pontos_totais"></p>
        <h3>Atributos</h3>

        <div class="atributo carisma">
            <p>Carisma</p>
            <p id="qtd_carisma"></p>
            <div class="botoes">
                <button onclick="pontuação(1, 'carisma')">+</button>
                <button onclick="pontuação(-1, 'carisma')">-</button>
            </div>
        </div>

        <div class="atributo inteligencia">
            <p>Inteligência</p>
            <p id="qtd_inteligencia"></p>
            <div class="botoes">
                <button onclick="pontuação(1, 'inteligencia')">+</button>
                <button onclick="pontuação(-1, 'inteligencia')">-</button>
            </div>
        </div>

        <div class="atributo agilidade">
            <p>Agilidade</p>
            <p id="qtd_agilidade"></p>
            <div class="botoes">
                <button onclick="pontuação(1, 'agilidade')">+</button>
                <button onclick="pontuação(-1, 'agilidade')">-</button>
            </div>
        </div>

        <div class="atributo vigor">
            <p>Vigor</p>
            <p id="qtd_vigor"></p>
            <div class="botoes">
                <button onclick="pontuação(1, 'vigor')">+</button>
                <button onclick="pontuação(-1, 'vigor')">-</button>
            </div>
        </div>

        <div class="atributo sangueAncestral">
            <p>Sangue Ancestral</p>
            <p id="qtd_sangue_ancestral"></p>
            <div class="botoes">
                <button onclick="pontuação(1, 'sangue')">+</button>
                <button onclick="pontuação(-1, 'sangue')">-</button>
            </div>
        </div>`;

    // Agora atribuimos os elementos aos campos
    elementos = {
        carisma: document.getElementById('qtd_carisma'),
        inteligencia: document.getElementById('qtd_inteligencia'),
        agilidade: document.getElementById('qtd_agilidade'),
        vigor: document.getElementById('qtd_vigor'),
        sangue: document.getElementById('qtd_sangue_ancestral'),
        totais: document.getElementById('pontos_totais')
    };

    // Atualiza os valores iniciais na tela
    atualizarExibicao();
}

function atualizarExibicao() {
    elementos.carisma.innerHTML = pontos.carisma;
    elementos.inteligencia.innerHTML = pontos.inteligencia;
    elementos.agilidade.innerHTML = pontos.agilidade;
    elementos.vigor.innerHTML = pontos.vigor;
    elementos.sangue.innerHTML = pontos.sangue;
    elementos.totais.innerHTML = pontosAtributosTotais;
}

function pontuação(numero, atributo) {
    if (numero === 1 && pontos[atributo] >= 5) {
        alert("Quantidade máxima alcançada");
        return;
    }
    if (numero === -1 && pontos[atributo] <= 0) {
        alert("Quantidade mínima alcançada");
        return;
    }
    if (numero === 1 && pontosAtributosTotais <= 0) {
        alert("Quantidade de pontos total acabou");
        return;
    }

    pontosAtributosTotais -= numero;
    pontos[atributo] += numero;

    atualizarExibicao();

    // Animação
    let elementoAlterado = elementos[atributo];
    elementoAlterado.classList.add("troca");
    setTimeout(() => elementoAlterado.classList.remove("troca"), 300);
    elementos.totais.classList.add("troca");
    setTimeout(() => elementos.totais.classList.remove("troca"), 300);
}


    </script>